import { Figure } from '@components/figure'
import { Ann } from '@components/ann'
import { Box, Boxes } from '@components/box'
import { Exercise, Step, Mistake } from '@components/exercise'
import { Mac } from '@components/device'
import { FileName, NoPageBreak } from '@components/misc'

# JavaScript: массивы

Массив ("array" по-английски) — это список каких-то значений. Значения пишутся в квадратных скобках.

Пример массива:

```js JavaScript
let x = [3, 5, 10];
```

Здесь `x` — это массив из трех элементов.

## Индексация

Элементы в массивах пронумерованы **с нуля.**

<Figure image="/indexing.png" />

Номер элемента в массиве называется _индексом_.

Чтобы получить элемент с каким-то индексом, надо написать имя массива и потом индекс в квадратных скобках:

* `x[0]` <span style={{marginRight: '1rem'}}/> — первый элемент
* `x[1]` <span style={{marginRight: '1rem'}}/> — второй элемент
* `x[2]` <span style={{marginRight: '1rem'}}/> — третий элемент

Индексы можно использовать и в присваивании. Например, чтобы поменять самый первый элемент массива:

```js JavaScript
x[0] = 999;
```

<Exercise>
  <Step>
    Заведите массив `x` с тремя нулями:

    ```js JavaScript
    let x = [0, 0, 0];
    ```
  </Step>
  <Step>
    Функция `setInterval` бесконечно повторяет любую функцию, которую ей дашь.
    
    Пример ниже все время выводит массив `x` на страницу. Перепечатайте пример, не удаляя прошлый код. На странице должно появиться "0,0,0".

    <Boxes>
      <Box>
        ```html HTML
        <div id="text"></div>
        ```
      </Box>
      <Box>
        ```js JavaScript
        setInterval(() => {
          document.getElementById("text").innerText = x;
        });
        ```
      </Box>
    </Boxes>
  </Step>
  <Step>
    Добавьте три кнопки, которые будут увеличивать на единицу соответственно первый, второй, и третий элементы массива. **Код из прошлых двух пунктов все еще удалять не нужно.**

    <Boxes>
      <Box>
        ```html HTML
        <button onclick="f1()">1</button>
        <button onclick="f2()">2</button>
        <button onclick="f3()">3</button>
        ```
      </Box>
      <Box>
        ```js JavaScript
        function f1() { }
        function f2() { }
        function f3() { }
        ```
      </Box>
    </Boxes>

    Придумайте сами, что напечатать внутри функций, чтобы они работали.
  </Step>
</Exercise>

<Exercise>
  <Step>
    _Задание со звездочкой._

    Добавьте еще три кнопки:
    
    * Первая кнопка — должна менять местами 1-й и 2-й элементы массива.
    * Вторая кнопка — должна менять местами 2-й и 3-й элементы массива.
    * Третья кнопка — должна менять местами 3-й и 1-й элементы массива.
  </Step>
</Exercise>

## Добавление элементов в массив

Чтобы добавлять элементы в массив, мы будем использовать три точки (`...`, "spread operator").

* `[...x, a]` — это массив `x` и плюс элемент `a` в конце.
* `[a, ...x]` — это массив `x` и плюс элемент `a` в начале.

Например, чтобы добавить в конец массива `x` число 100:

```js JavaScript
x = [...x, 100];
```

<Exercise>
  <Step>
    Возьмите пример из прошлого раздела.

    Добавьте еще две кнопки. Одна кнопка должна добавлять 100 в начало массива, а другая — в конец.
  </Step>
</Exercise>

## Длина массива

Длина массива — это сколько в нем элементов. Чтобы получить длину массива, надо напечатать название массива и потом `.length`.

Слово "length" так и переводится — длина.

<Exercise>
  <Step>
    Заведите массив `array` и выдайте его длину:
    
    ```js JavaScript
    let array = [0, 0, 0];
    alert(array.length);
    ```
  </Step>
</Exercise>

Длина массива всегда на 1 больше, чем индекс последнего элемента массива. То есть, если в массиве `x` 5 элементов, то последний — это `x[4]`.

Это значит, что последний элемент вообще любого массива можно получить вот так:

```js JavaScript
x[x.length - 1]
```

<Exercise>
  <Step>
    Возьмите пример из прошлого раздела.

    Добавьте еще одну кнопку, которая будет делать дубликат последнего элемента массива.
    
    То есть, если массив был `[3, 5, 10]`, после нажатия кнопки он должен стать `[3, 5, 10, 10]`.
  </Step>
</Exercise>